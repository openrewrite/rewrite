# Copyright 2025 the original author or authors.
# <p>
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://www.apache.org/licenses/LICENSE-2.0
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.AddCommentToImport
examples:
- description: '`AddCommentToImportTest#wildcardAndStaticImportsRecognized`'
  parameters:
  - SHORT_COMMENT
  - foo.bar.Baz
  sources:
  - before: |
      package blah;
      // Will not match direct package
      import foo.*;
      import foo.bar.*;
      import foo.bar.Baz;
      import static foo.bar.Baz.someStaticMethod;
      class OtherOne {}
    after: |
      package blah;
      // Will not match direct package
      import foo.*;
      /* Short comment to add */
      import foo.bar.*;
      import foo.bar.Baz;
      import static foo.bar.Baz.someStaticMethod;
      class OtherOne {}
    language: java
  - before: |
      package blah;
      // Will not match direct package
      import foo.*;
      import foo.bar.Baz;
      import foo.bar.*;
      import static foo.bar.Baz.someStaticMethod;
      class OtherTwo {}
    after: |
      package blah;
      // Will not match direct package
      import foo.*;
      /* Short comment to add */
      import foo.bar.Baz;
      import foo.bar.*;
      import static foo.bar.Baz.someStaticMethod;
      class OtherTwo {}
    language: java
  - before: |
      package blah;
      // Will not match direct package
      import foo.*;
      import static foo.bar.Baz.someStaticMethod;
      import foo.bar.*;
      import foo.bar.Baz;
      class OtherThree {}
    after: |
      package blah;
      // Will not match direct package
      import foo.*;
      /* Short comment to add */
      import static foo.bar.Baz.someStaticMethod;
      import foo.bar.*;
      import foo.bar.Baz;
      class OtherThree {}
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.AddCommentToMethod
examples:
- description: '`AddCommentToMethodTest#addSingleLineComment`'
  parameters:
  - SHORT_COMMENT
  - foo.Foo bar(..)
  - 'false'
  sources:
  - before: |
      package foo;
      public class Foo {
          public void bar(String arg) {}
      }
    after: |
      package foo;
      public class Foo {
          // Short comment to add
          public void bar(String arg) {}
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.AddCommentToMethodInvocations
examples:
- description: '`AddCommentToMethodInvocationsTest#addSingleLineComment`'
  parameters:
  - SHORT_COMMENT
  - foo.Foo gar(..)
  sources:
  - before: |
      import foo.Foo;

      class Other {
          void method() {
              Foo foo = new Foo();
              // Existing Comment
              foo.bar("a");
              boolean gar = /* Existing Comment */ foo.gar();
              String har = foo.har(/* Existing Comment */foo.gar());
          }
      }
    after: |
      import foo.Foo;

      class Other {
          void method() {
              Foo foo = new Foo();
              // Existing Comment
              /* Short comment to add */
              foo.bar("a");
              boolean gar = /* Existing Comment */ /* Short comment to add */ foo.gar();
              String har = foo.har(/* Existing Comment *//* Short comment to add */foo.gar());
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.AddMethodParameter
examples:
- description: '`AddMethodParameterTest#primitive`'
  parameters:
  - foo.Foo#bar(..)
  - int
  - i
  - 'null'
  sources:
  - before: |
      package foo;

      public class Foo {
          public void bar() {
          }
      }
    after: |
      package foo;

      public class Foo {
          public void bar(int i) {
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.ChangeMethodInvocationReturnType
examples:
- description: '`ChangeMethodInvocationReturnTypeTest#replaceVariableAssignment`'
  parameters:
  - java.lang.Integer parseInt(String)
  - long
  sources:
  - before: |
      class Foo {
          void bar() {
              int one = Integer.parseInt("1");
          }
      }
    after: |
      class Foo {
          void bar() {
              long one = Integer.parseInt("1");
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.ChangePackageInStringLiteral
examples:
- description: '`ChangePackageInStringLiteralTest#changePackageInLiteral`'
  parameters:
  - javax.type
  - jakarta.type
  sources:
  - before: |
      class Test {
          String ref = "javax.type.A";
          String extendedRef = "there is a type reference here -> javax.type.A <- hopefully it only replaces that";
      }
    after: |
      class Test {
          String ref = "jakarta.type.A";
          String extendedRef = "there is a type reference here -> jakarta.type.A <- hopefully it only replaces that";
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.ChangeTypeInStringLiteral
examples:
- description: '`ChangeTypeInStringLiteralTest#changeTypeInLiteral`'
  parameters:
  - javax.type.A
  - jakarta.type.B
  sources:
  - before: |
      class Test {
          String ref = "javax.type.A";
          String refNested = "javax.type.other.A";
          String extendedRef = "there is a type reference here -> javax.type.A <- hopefully it only replaces that";
      }
    after: |
      class Test {
          String ref = "jakarta.type.B";
          String refNested = "javax.type.other.A";
          String extendedRef = "there is a type reference here -> jakarta.type.B <- hopefully it only replaces that";
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.InlineMethodCalls
examples:
- description: '`InlineMethodCallsTest#inlineMeSimple`'
  parameters:
  - Lib deprecated()
  - this.replacement()
  - 'null'
  - 'null'
  - 'null'
  sources:
  - before: |
      class Lib {
          @Deprecated
          public void deprecated() {}

          public void replacement() {}

          public static void usage(Lib lib) {
              lib.deprecated();
          }
      }
    after: |
      class Lib {
          @Deprecated
          public void deprecated() {}

          public void replacement() {}

          public static void usage(Lib lib) {
              lib.replacement();
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.RemoveAnnotationAttribute
examples:
- description: '`SingleAnnotation#withTwoAttributesOnSingleLine`'
  parameters:
  - TestAnnotation
  - deletedAttribute
  sources:
  - before: |
      @TestAnnotation(attributeA = "attributeValue", deletedAttribute = "deletedAttributeValue")
      class SomeClass {}
    after: |
      @TestAnnotation(attributeA = "attributeValue")
      class SomeClass {}
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.RemoveMethodThrows
examples:
- description: '`RemoveMethodThrowsTest#removeSingleException`'
  parameters:
  - A foo(..)
  - 'true'
  - java.io.IOException
  sources:
  - before: |
      import java.io.IOException;

      class A {
          public void foo() throws IOException {
              // no-op
          }
      }
    after: |
      class A {
          public void foo() {
              // no-op
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.ReplaceAnnotation
examples:
- description: '`ReplaceAnnotationTest#matchWithParams`'
  parameters:
  - '@org.jetbrains.annotations.NotNull("Test")'
  - '@lombok.NonNull'
  - 'null'
  sources:
  - before: |
      import org.jetbrains.annotations.NotNull;

      class A {
          @NotNull("Test")
          String testMethod() {}
      }
    after: |
      import lombok.NonNull;

      class A {
          @NonNull
          String testMethod() {}
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.ReplaceStringLiteralValue
examples:
- description: '`ReplaceStringLiteralValueTest#replaceAppleWithOrange`'
  parameters:
  - apple
  - orange
  sources:
  - before: |
      class Test {
          String s = "apple";
      }
    after: |
      class Test {
          String s = "orange";
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.SimplifySingleElementAnnotation
examples:
- description: '`SimplifySingleElementAnnotationTest#simpleExample`'
  sources:
  - before: |
      @Copyright(value = "2002 Yoyodyne Propulsion Systems, Inc.")
      class OscillationOverthruster {
      }
    after: |
      @Copyright("2002 Yoyodyne Propulsion Systems, Inc.")
      class OscillationOverthruster {
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.java.search.FindCompileErrors
examples:
- description: '`FindCompileErrorsTest#javaVisitorHandlesErroneousNodes`'
  sources:
  - before: |
      class A {
          void test() {
              owner
          }
      }
    after: |
      class A {
          void test() {
              /*~~>*/owner
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.text.FindAndReplace
examples:
- description: '`PlainTextParserConversionTest#markersAreAddedWhenConvertingToTextLst`'
  parameters:
  - class
  - public class
  - 'null'
  - 'null'
  - 'null'
  - 'null'
  - 'null'
  - 'null'
  sources:
  - before: |
      package com.example;

      class Test {
      }
    after: |
      ~~(test)~~>package com.example;

      public class Test {
      }
    language: java
